{% extends 'index.html' %}

{% block body %}


<div class="container-fluid ">


<main role="main" class="container">
     <h3>Nuevo Remito</h3>

        <form action="" method="post">{% csrf_token %}

            {% if form.errors %}
                {% for field in form %}
                    {% for error in field.errors %}
                        <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                         </div>
                     {% endfor %}
                {% endfor %}
             {% for error in form.non_field_errors %}
                        <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                                 </div>
                {% endfor %}
            {% endif %}


        <div class = "mt-4 mb-8 starter template">
            <div class="form-row form-row">
                    <div class="form-group col-md-6 mb-0">
                        <div id="div_id_Numero" class="form-group">
                        <label for="Numero" class=" requiredField">
                            Numero
                        <span class="asteriskField">*</span>
                        </label>
                            <div class>
                        {{ form.Numero}}{{ field.errors }}
                            </div>
                            </div>

                    </div>
                    <div class="form-group col-md-6 mb-0">
                                 <div id="div_id_Cliente_o_Proveedor" class="form-group">
                                     <label for="Numero" class=" requiredField">
                                        Cliente/Proveedor
                                     <span class="asteriskField">*</span>
                                     </label>

                                     <div class>
                                    {{ form.Cliente_o_Proveedor }}
                                    </div>
                                 </div>

                    </div>

            </div>
            <div id="div_Orden_de_Compra_Nro" class="form-group">
                        <label for="id_Estado" class=" requiredField">
                         Orden_de_Compra_Nro <span class="asteriskField">*</span>
                        </label>
                        <div class>
                            {{ form.Orden_de_Compra_Nro }}
                        </div>
            </div>






            <div id="div_id_Estado" class="form-group">
                        <label for="id_Estado" class=" requiredField">
                        Estado <span class="asteriskField">*</span>
                        </label>
                        <div class>
                            {{ form.Estado }}
                        </div>
            </div>


            <div id="div_Lote" class="form-group">
                        <label for="id_Lote" class=" requiredField">
                        Lote <span class="asteriskField">*</span>
                        </label>
                        <div class>
                            {{ form.Lote }}
                        </div>
            </div>

            <div id="div_Valor_Declarado" class="form-group">
                        <label for="id_Valor_Declarado" class=" requiredField">
                        Valor Declarado <span class="asteriskField">*</span>
                        </label>
                        <div >
                            {{ form.Valor_Declarado}}
                        </div>
            </div>



            <div id="div_Flete" class="form-group">
                        <label for="id_Cliente_o_Proveedor" class=" requiredField">
                        Flete <span class="asteriskField">*</span>
                        </label>
                        <div >
                            {{ form.Flete}}
                        </div>
            </div>


                 <div id="div_Retira" class="form-group">
                            <label for="id_Cliente_o_Proveedor" class=" requiredField">
                            Retira <span class="asteriskField">*</span>
                            </label>
                            <div >
                                {{ form.Retira}}
                            </div>
                        </div>

             <div id="div_Observaciones" class="form-group">
                        <label for="id_Cliente_o_Proveedor" class=" requiredField">
                        Observaciones <span class="asteriskField">*</span>
                        </label>
                        <div >
                            {{ form.Observaciones}}
                        </div>
                    </div>


        </div>

            <div container>

                <h4>Movimientos</h4> <input type="submit" value="+5"/>

                <table class="table">

            {{ movimientos.management_form }}

            {% for form in movimientos.forms %}
                {% if forloop.first %}


                                                 <thead>
                                                    <tr>
                                                        {% for field in form.visible_fields %}
                                                        <th>{{ field.label|capfirst }}</th>
                                                        {% endfor %}
                                                    </tr>
                                                 </thead>
                {% endif %}

                             <tr class="{% cycle 'row1' 'row2' %} formset_row">
                                {% for field in form.visible_fields %}
                                    <td>
                                        {# Include the hidden fields in the form #}
                                         {% if forloop.first %}
                                             {% for hidden in form.hidden_fields %}
                                                {{ hidden }}
                                             {% endfor %}
                                         {% endif %}
                                        {{ field.errors.as_ul }}
                                        {{ field }}
                                     </td>
                                {% endfor %}
                             </tr>
            {% endfor %}

         </table>
                <input type="submit" value="Crear"/> <!--a href="display_remitos">back to the list</a-->
            </div>








    </form>
</main>

</div>


<!--
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script type="text/javascript" src="/static/js/jquery.formset.js"></script>

<script>
    $('.formset_row').formset({
        addText: 'otro movimiento',
        deleteText: 'remove',
        prefix: 'movimientos_set'
    });

</script>





<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>-->

<!--<script src="static/js/jquery.formset.js"></script>-->

<!--jquery-->

{% endblock %}